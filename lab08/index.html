<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="utf-8">
    <title>Lab 8</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@900&display=swap');

        h1, div {
          background-color: rgba(255, 255, 0, 0.1);
          font-family: 'Noto Serif JP', serif;
          font-size: 24pt;
          border: solid 1px black;
          width: 90%;
          margin: 5px auto;
          padding: 10px;
        }

        div {
          font-size: 12pt;
        }

        body {
            background-color: rgba(255, 128, 255, 0.1);
        }

        video:hover {
            box-shadow: 0 0 2px 1px rgba(0, 140, 186, 0.5);
        }

        .path {
          stroke-dasharray: 1000;
          stroke-dashoffset: 1000;
          animation: dash 5s linear forwards;
        }
        @keyframes dash {
          to {
            stroke-dashoffset: 0;
          }
        }
    </style>
    <script src="https://d3js.org/d3.v6.min.js" charset="utf-8"></script> <!-- v6.5.0 -->
</head>
<body>
    <h1>
        lab08 漢字書寫 (鉛筆字) (毛筆字也OK!) Path Animation
    </h1>
    <div>
      限定使用 D3.js，參考以下影片。
    	<ul>
    		<li><a href="https://bl.ocks.org/basilesimon/f164aec5758d16d51d248e41af5428e4">Animate path in D3</a></li>
    		<li><a href="https://codepen.io/MyXoToD/post/howto-self-drawing-svg-animation">"Self-Drawing" SVG</a></li>
    		<li><a href="https://stackoverflow.com/questions/15275362/how-to-transition-a-path-in-d3-js">How to transition a path in d3.js</a></li>
        <li><a href="https://css-tricks.com/svg-line-animation-works/">How SVG Line Animation Works</a></li>
        <li><a href="http://blog.roachking.net/blog/2014/10/31/osolve-team-drawing-animation/">使用 SVG 將圖片做成動畫</a></li>
        <li><a href="https://www.hesyifei.com/">何一非</a></li>
    	</ul>
    </div>

    <div>
  		<video width="400" controls loop autoplay>
  		  <source src="3.mp4" type="video/mp4">
  		</video>
    </div>

    <div>
      展示區 (姓名)
      <hr>
      <img width="256" src="./邱.svg">
      <img width="256" src="./柏.svg">
      <img width="256" src="./政.svg">
    </div>

    <div>
      Drag and Drop 展示區 (接收任何SVG)<hr>
      <svg id="svg1" height="450" width="350">
      </svg>
      <svg id="svg2" height="450" width="350">
      </svg>
      <svg id="svg3" height="450" width="350">
      </svg>
    </div>

    <script type="text/javascript">
    var line = d3.line();
    var first = [
    "M60,64c1.3,0,5.3-1,12-3c0.1,0,0.1,0,0.2,0c2.4-1.7,4.6-3.6,7.2-4.9c-0.1,0-0.3,0-0.4,0c24-13.3,38-21.3,42-24s8.3-4,13-4 c2,0,3.7-0.7,5-2c0.7-1.3,0.3-3-1-5c-2-0.7-2.7-1-2-1c-4.7-4-9.7-7.3-15-10c-3.3,0-4,0.7-2,2c5.3,3.3,6,6.7,2,10	c-16,13.3-32.7,24.7-50,34c-4,0.7-6.3,0.3-7-1c-2-1.3-3.3-0.7-4,2C56.7,62.3,56.7,64.7,60,64z",
    "M175,135c0-8.7,0.3-15.3,1-20c0.1,0,0.2,0.1,0.3,0.1c0.1-1,0.1-1.9,0.2-2.9c-0.2-0.1-0.3-0.2-0.5-0.2V56c-0.7-4.7,0-9,2-13 c1.3-2,0.7-3.7-2-5c-3.3-0.7-6.7-1.7-10-3c-1.3,0.7-2.3,1-3,1c0,0.7,0.7,1.3,2,2c3.3,1.3,5,6,5,14c0.7,28.7,1,53.7,1,75v33 c0.7,10,1,25,1,45c-6.7,5.3-9,10.7-7,16c3.3,2,6.7,5.3,10,10c0.7,2.7,3.3,5,8,7c-0.7,0-0.3,0.3,1,1c2.7,0,4.3-1.3,5-4 c-3.3-6-7.7-11.7-13-17C174,200.7,173.7,173,175,135z",
    "M241,126c-10.6-16.6-27-29.1-49.4-37.8c-2,0.6-3.9,1.6-5.8,2.5c0.3,0.2,0.7,0.3,1.2,0.3c15.3,6.7,27,13.3,35,20 c4,3.3,5.7,5.7,5,7c-0.7,2-3.7,2.7-9,2c-16,0.7-29.5-1.8-40.5-7.3c-0.1,0.9-0.1,1.9-0.2,2.8c12.8,5.7,24.8,9.5,35.7,11.4	c6,0.7,13.7,2.7,23,6h3C242.3,133,243,130.7,241,126z",
    "M178,36c7.3,0,16.7-1.7,28-5c3.3,0.7,4.7,2.3,4,5c-7.3,26-15,42.7-23,50l-1,1c-0.6,1.3-0.9,2.3-0.7,2.9 c2.1-1.1,4.2-2.1,6.5-2.8c6.4-7.4,12.8-19.1,19.2-35.1c2.7-6.7,6.7-10.7,12-12c2.7-0.7,4-1.3,4-2c0.7-1.3,0.3-3-1-5 c-3.3-1.3-7.3-5-12-11c-4-2.7-7.7-1.7-11,3c-6.7,3.3-15,6.3-25,9C174,35.3,174,36,178,36z",
    "M99,136c-6.4-1.9-10.6-16.1-12.7-42.6c0,0,0-0.1-0.1-0.2c-0.3-1.7-0.7-3.6-0.7-5.3C85.2,87.8,85,87.5,85,87 c-1.3-6.7-1.7-12.3-1-17c-0.7-5.3,0-8,2-8c2-2,2-3.7,0-5h-3c-0.8-0.3-1.4-0.5-2-0.6c-2.5,1.1-4.7,2.8-6.9,4.4C76,60.9,77,61.9,77,64 c2,10.7,4,24.7,6,42c0.7,7.3,0,11.7-2,13c-4,3.3-4.7,6.3-2,9c5.5,6.2,10.4,10.5,14.9,13.3c2.4-0.9,5-1.6,7.2-2.9	C100.2,137.7,99.5,137,99,136z",
    "M154,68c-12-3.3-18.3-3.7-19-1c-1.3,2.7-5,5-11,7c-4,2-8.7,4-14,6c-10.9,3.9-18.7,6.5-23.5,7.9c0,0.8,0,1.5,0.1,2.3 c4.4,1.1,8.5,0.4,12.3-2.1c8.7-3.3,16.7-6.7,24-10c2.7-0.7,3.3,0,2,2c-4.7,3.3-4.3,3.7,1,1c10-5.3,19-8.3,27-9c1.3,0,2.3-0.3,3-1	C156,69.7,155.3,68.7,154,68z",
    "M111.5,133.2c0.1-0.1,0.3-0.1,0.4-0.2c2.2-0.9,4.5-1.7,6.6-2.9c1.4-2.7,3.6-6.7,6.5-12c2.7-5.3,5-9.7,7-13c2-0.7,0-5.7-6-15 c-1.3-0.7-2.3-1-3-1c-0.7,0.7-0.7,1.3,0,2C126.3,99.6,122.4,113.6,111.5,133.2z",
    "M159,110c-11.9,5.6-24.6,12.1-38.3,19.5c0,0.1-0.1,0.2-0.1,0.2c-2.3,1.9-5.1,2.8-7.9,4c-1.9,0.8-3.8,1.7-5.7,2.5l-5,2.8 c0,0,0,0,0,0c-2.2,1.4-4.6,2.1-7,3c0,0,0,0,0.1,0c-10.7,6-22.3,12-35,18c-7.3,4.7-13,5.7-17,3c-2,0-3.3,0.3-4,1c-0.7,1.3,0,2.3,2,3	c8.7,4,16.7,3.7,24-1c28.7-16.7,60.3-34,95-52c2-1.3,3-2.3,3-3C162.3,109.7,161,109.3,159,110z"]

    var middle = [
      "M104.7,76.7c0.7-0.7,2-2.2,3.3-2.5v-7.6c-2.1,0.4-4,1.1-6,1.9c0,2-0.3,4.8-1,8.5v4.3C102.2,79.7,103.3,78.1,104.7,76.7z",
      "M108.2,75.1c-2.2,0.5-5.8,6-7.2,7.8V83c-12,28-33.3,48-64,60c-4,2-4,2.7,0,2c24.9-8.3,45.4-23,61.8-44.1 c-0.4-0.1-0.6-0.5-0.3-0.8c1.9-1.8,3.3-4,5-6.1c1.2-1.5,2.7-2.9,3.6-4.6V89c0.1-0.1,0.2-0.3,0.4-0.4c0.1-0.3,0.2-0.7,0.3-1 c0.1-0.3,0.4-0.4,0.6-0.3c0.2-0.4,0.5-0.8,0.7-1.3l3-3C114.7,81,113.3,78.4,108.2,75.1z",
      "M106,104c0,0,0.1,0.1,0.1,0.1c0.2-1.9,0.6-3.7,0.9-5.5v-7.3c-0.6,0.9-1.4,1.7-2.1,2.5c-1.4,1.6-2.6,3.4-3.9,5 c-0.7,31.5-0.7,52.6,0,63.2c0.7,14,1.7,25.3,3,34c0,2-0.3,3.3-1,4s-1.7,0.3-3-1c-0.7,0-1.7-0.7-3-2c-4.7-4-7.3-7.3-8-10 c-2-1.3-3.3-1.7-4-1s-0.3,1.7,1,3c2,5.3,8,14.3,18,27c1.3,2,2.3,3.3,3,4c1.3,2,2.7,2.7,4,2c2-1.3,2.7-3,2-5 C105,201,102.7,163.3,106,104z",
      "M133,119c-2-2.7-5-5-9-7l-6-3c-3.8-2.5-7.2-5.3-10.4-8.4c-0.3,1.5-0.5,3.1-0.6,4.6c7.7,9.3,15.3,15.6,23,18.8 C132.7,124.7,133.7,123,133,119z",
      "M135,57c-3.3-0.7-7-1.3-11-2c-4.7,0-7.7,1-9,3c-1.1,1.1-2.8,2.2-5.2,3.3c0,0.2-0.1,0.3-0.4,0.4c-0.4,0.1-0.8,0.2-1.1,0.3	c-0.1,0-0.2,0.1-0.3,0.1c0,0,0,0,0,0c-1.7,0.5-3.4,1.3-5.2,1.7c-0.3,0.1-0.6,0.1-0.8,0.2c0,0.1,0,0.1,0,0.2C75.3,74,53,80.3,35,83	c-2,0.7-3,1.3-3,2s1,1,3,1c10,2.7,18.7,2,26-2c18.2-7.8,31.6-13,40.3-15.8c-0.1-0.2,0-0.5,0.3-0.7c2.1-0.8,4.3-1.6,6.5-2 c0.2,0,0.4,0.1,0.5,0.2c8.5-3.1,16.9-4.8,25.3-4.8c1.3,0,2-0.7,2-2C136.7,58.3,136.3,57.7,135,57z",
      "M172,34c-9.8,19.6-20.3,36.6-31.3,51.1c1.8,0,3.5-0.1,5.3-0.2c13-14.5,26-31.7,39-51.9c3.3-4,4-7,2-9c-1.3-0.7-4.3-3-9-7	c-2-1.3-3.3-2.7-4-4c-2.7-0.7-3.3-0.3-2,1C177.3,17.3,177.3,24,172,34z",
      "M159.7,183.3c-2.1-1.2-3.8-2.8-4.4-5c-3.4-3.4-4.9-8.8-4.3-16.3c-0.7-7.3-1-15-1-23c0.7-8.7,1.7-17.3,3-26	c0-6.7,1.3-11.7,4-15c0.7-2,0.7-3.7,0-5c-3.3-2.7-7.3-5-12-7c0,0,0,0,0-0.1c-2.5,0.1-4.9,0.2-7.4,0.2c-1.9,0.3-3.2,0.9-3.7,1.9 c-1.3,1.3-1.7,3.3-1,6c-0.7,1.3,0,1.3,2,0c8.7-0.7,12.7,0.7,12,4v9c0.7,2.7,1,6.3,1,11c0,4-0.3,10.3-1,19v21c0.7,9.3,0,14.7-2,16	c-2,4-2.3,6-1,6c0.7,1.3,2,3,4,5c0.7,0.7,1.7,1.3,3,2c2.7,4,6.7,7,12,9c2,0,3.3-1.3,4-4c-1.3-1.3-2.3-2.7-3-4	C162.3,186.9,160.9,185.3,159.7,183.3z",
      "M204,170c-4,0-10.3,0.7-19,2c-8.6,2-18,4.2-28.5,6.9c0.6,1.3,1.6,2.3,2.9,3.1c2,0,4.8-0.3,8.6-1c4.7-0.7,8.3-1.3,11-2 c11.3-2,17.7-2.7,19-2c4,2,6.7,1,8-3C206.7,171.3,206,170,204,170z",
      "M104,31c-1.2,12.2-1.9,22.8-2,31.8c0.5-0.1,0.9-0.2,1.4-0.3c1.6-0.4,3.1-1.1,4.6-1.6c1.3-21.3,3.3-32.6,5.9-33.9	c2.7-3.3,2.7-6.3,0-9c-2.7-3.3-6-6.7-10-10c-3.3-1.3-4-0.7-2,2C104,13.3,104.7,20.3,104,31z",
      "M230,92c-4-4-10.3-9.3-19-16c-1.3-0.7-2.3-1.7-3-3c-5.3-2.7-10.3-3.7-15-3c-17.3,2.7-31.3,7.3-42,14c-1.3,0.7-1,1.3,1,2 c3.3,0.7,8-0.7,14-4c8-2.7,17-5,27-7c9.3-1.3,15,4,17,16c1.3,11.3,2.3,28,3,50c-0.7,22.7-1.7,39-3,49c-1.3,5.3-4.3,6.7-9,4	c-5.3-2.7-10-6-14-10c-1.3-0.7-1.7-0.7-1,0c2,6,5.7,11.3,11,16c0.7,1.3,1.7,2.7,3,4c1.3,2,2.7,3.7,4,5c1.3,4,4,5,8,3 c0.7-1.3,1.3-2.3,2-3c-1.3-2.7-1-7.7,1-15c2.7-30.7,4.7-55.7,6-75c0-16.7,2.3-24.3,7-23C230,95.3,230.7,94,230,92z",
      "M175,136c5.3-4.7,11.7-8,19-10c3.3,0,6.3-1.7,9-5c-2-1.3-3-2.3-3-3c-4-0.7-8.7-0.7-14,0c-1.3,0-2.7,0.7-4,2 c-2.7,2-11.3,5.3-26,10c-1.3,1.3-1.3,2,0,2c4,1.3,9.7,0.7,17-2c2.7-0.7,2,1.3-2,6C170.3,138,171.7,138,175,136z"
    ]


    var last = [
      "M120,42c6,1.3,11,3.3,15,6c1.3,1.3,2,2.3,2,3c-0.7,1.3-1.7,1.7-3,1c-7.3-2-15-1.7-23,1c-13.3,2.7-24,7.3-32,14	c-4,2-4.7,1.3-2-2l4-4c-5.3,0.7-10,1.3-14,2c-4.7,3.3-12.3,2.7-23-2c-2.7-0.7-2.3-1.3,1-2c6.7,0.7,12.7,0.7,18,0c6-0.7,15-2.3,27-5 c8.7-2,15-5.3,19-10C110.3,40.7,114,40,120,42z",
      "M82,87c-1.3-2.7-0.7-3.3,2-2s6,3.3,10,6c2.7,0.7,3,2.3,1,5c-2,3.3-3.3,8.7-4,16	s-1,21-1,41c-0.7,1.3-1.3,2.3-2,3c-1.3,0-2-0.7-2-2c-4-8-4.7-13.3-2-16c0.7-1.3,1.3-5.3,2-12C86,106.7,84.7,93.7,82,87z",
      "M110,103	c0.7-2,2.3-2.7,5-2l10,2c0.7,2,0.7,3.3,0,4c-4.7,0-8.3,0.7-11,2c-3.3,2.7-8,4.7-14,6c-2.7,0.7-3,0.3-1-1 C107,110,110.7,106.3,110,103z",
      "M48,133c0-2,0.7-2,2,0c3.3,4.7,5,8,5,10v28c24-8,45.7-14,65-18l2-1c0.7-0.7,2.7-1.7,6-3	c3.3,0,5.7,0.3,7,1c2,2,4,3,6,3c2.7,2,3.3,3.7,2,5c-2,1.3-4.7,1-8-1c-5.3-2-11.3-2.3-18-1c-28.7,6.7-53,14.3-73,23c-4,2-6.3,3.7-7,5	c-2,2-4.3,2.3-7,1c-0.7-2.7-0.3-4.7,1-6c0.7-1.3,2-1.7,4-1c0.7,0.7,1.7,0.3,3-1c2,0,5.3-1.3,10-4c3.3-2,3.7-9.7,1-23 c-0.7-1.3-1-3-1-5C47.3,141,47.3,137,48,133z",
      "M175,13c-2-2.7-1.3-3,2-1c2,2,3,6,3,12c-6.7,30-16,51.7-28,65c-3.3,2.7-4,2.3-2-1	c10-13.3,18-32.7,24-58C175.3,22.7,175.7,17,175,13z",
      "M214,56c2-3.3,4.3-4.3,7-3c3.3,0,7,1,11,3c2,0.7,2.7,1.7,2,3c0,0.7-1,1-3,1	c-22,7.3-37,15-45,23c-3.3,2.7-4,2.3-2-1c0.7-1.3,0-1.7-2-1c-4.7,2.7-9.7,4.3-15,5c-3.3,0.7-3.7,0.3-1-1c11.3-4,22.3-9.7,33-17 C208.3,62,213.3,58,214,56z",
      "M182,98c1.3-2,5.7-1.7,13,1c2,1.3,2,2.7,0,4c-2,2-3.7,4.7-5,8c-1.3,2-2.3,4-3,6c-6.7,16-12.3,28-17,36	c9.3,15.3,19.3,29.3,30,42c1.3,2,3,3.3,5,4s5.7,1,11,1c11.3,0.7,23.3,2.7,36,6c4,1.3,4,2,0,2c-8.7-2-19-3.3-31-4h-6	c-9.3,0-14.7-1.7-16-5c-6.7-7.3-17-21.7-31-43c-15.3,21.3-29.3,37-42,47c-2.7,0.7-3,0.3-1-1c14.7-14,28.7-30.7,42-50 c-8-14-13.3-23-16-27c-3.3-3.3-7-4.7-11-4c-2,0-2-0.7,0-2c6.7-4.7,11.3-4.3,14,1c4,8.7,8.7,18.3,14,29c6-10.7,11-24,15-40 c0.7-4,0.3-6.7-1-8h-2C180,100.3,180.7,99.3,182,98z"
    ]

const sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay))
async function first_N(){
    for (var i = 0; i < first.length; i++) {
      d3.select("#svg1")
      .append('path')
      .attr('class', 'path')
      .attr('fill', "blue")
      .attr('stroke', "blue")
      .attr('stroke-width', "6.103")
      .attr('d', first[i]);
      console.log(i);
      await sleep(500);
    }
}
first_N()

async function middle_N(){
    for (var j = 0; j < middle.length; j++) {
        d3.select("#svg2")
        .append('path')
        .attr('class', 'path')
        .attr('fill', "blue")
        .attr('stroke', "blue")
        .attr('stroke-width', "6.103")
        .attr('d', middle[j]);
        console.log(j);
        await sleep(500);
    }
}
middle_N()

async function last_N(){
    for (var k = 0; k < last.length; k++) {
      d3.select("#svg3")
      .append('path')
      .attr('class', 'path')
      .attr('fill', "blue")
      .attr('stroke', "blue")
      .attr('stroke-width', "6.103")
      .attr('d', last[k]);
      console.log(k);
      await sleep(500);
    }
}
last_N()


    </script>
  </html>